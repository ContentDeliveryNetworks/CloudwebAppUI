<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 20px;
      box-sizing: border-box;
    }

    h1 {
      font-size: clamp(1.4rem, 4vw, 1.8rem);
      margin-bottom: 30px;
      color: #333;
    }

    .profile-box {
      width: clamp(100px, 30vw, 150px);
      height: clamp(100px, 30vw, 150px);
      border-radius: 50%;
      overflow: hidden;
      border: 4px solid #007aff;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      background: #f2f2f2;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease;
      margin-bottom: 40px;
    }

    .profile-box:hover {
      transform: scale(1.05);
    }

    .fade-in {
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
    }

    input[type="file"] {
      display: none;
    }

    .btn-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 100%;
      max-width: 320px;
    }

    @media(min-width: 400px){
      .btn-group{
        flex-direction: row;
      }
    }

    button {
      flex: 1;
      padding: clamp(10px, 3vw, 15px);
      border: none;
      border-radius: 12px;
      font-size: clamp(0.9rem, 3vw, 1rem);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      min-height: 45px;
    }

    .btn-skip {
      background: #f2f2f2;
      color: #333;
    }

    .btn-skip:hover {
      background: #e6e6e6;
    }

    .btn-next {
      background: #007aff;
      color: #fff;
    }

    .btn-next:hover {
      background: #006ae6;
    }

    .btn-next:disabled {
      background: #b0d4ff;
      cursor: not-allowed;
      box-shadow: none;
    }

    /* iOS-style popup overlay */
    .popup-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
      box-sizing: border-box;
    }

    .popup {
      background: #fff;
      border-radius: 18px;
      width: 100%;
      max-width: 280px;
      text-align: center;
      padding: 20px;
      animation: pop 0.3s ease;
      box-sizing: border-box;
    }

    @keyframes pop {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .popup h2 {
      font-size: clamp(1rem, 3vw, 1.1rem);
      margin-bottom: 15px;
      color: #333;
    }

    .spinner {
      width: 28px;
      height: 28px;
      border: 3px solid #ccc;
      border-top: 3px solid #007aff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }

    .popup-btns {
      display: flex;
      border-top: 1px solid #ddd;
      margin-top: 10px;
    }

    .popup-btns button {
      flex: 1;
      border-radius: 0;
      padding: 12px;
      background: transparent;
      color: #007aff;
      font-weight: 600;
      box-shadow: none;
      border-right: 1px solid #ddd;
      font-size: clamp(0.9rem, 3vw, 1rem);
    }

    .popup-btns button:last-child {
      border-right: none;
    }
  </style>
</head>
<body>

  <h1>Hi Mr Krisna</h1>

  <!-- Profile Circle -->
  <label for="fileUpload" class="profile-box" id="profileBox">
    <!-- Inline SVG as default icon -->
    <svg xmlns="http://www.w3.org/2000/svg" width="50%" height="50%" viewBox="0 0 24 24">
      <rect width="24" height="24" fill="none"/>
      <path fill="#2f7eff" d="M19 7V5h-2V4h2V2h1v2h2v1h-2v2zm-8 9.73q1.567 0 2.649-1.081T14.731 13t-1.082-2.649T11 9.269t-2.649 1.082T7.269 13t1.082 2.649T11 16.731m0-1q-1.165 0-1.948-.783T8.269 13t.783-1.948T11 10.269t1.948.783t.783 1.948t-.783 1.948t-1.948.783M3.616 20q-.691 0-1.153-.462T2 18.384V7.616q0-.691.463-1.153T3.616 6h2.957l1.85-2h6.193v3.385h2v2H20v9q0 .69-.462 1.153T18.384 20z"/>
    </svg>
  </label>
  <input type="file" id="fileUpload" accept="image/*">

  <!-- Skip & Next -->
  <div class="btn-group">
    <button class="btn-skip" onclick="showSkipPopup()">Skip</button>
    <button class="btn-next" id="nextBtn" onclick="startUpload()" disabled>Next</button>
  </div>

  <!-- Fake Upload Popup -->
  <div class="popup-overlay" id="uploadPopup">
    <div class="popup">
      <div class="spinner"></div>
      <h2>Uploading...</h2>
    </div>
  </div>

  <!-- Skip Confirmation Popup -->
  <div class="popup-overlay" id="skipPopup">
    <div class="popup">
      <h2>Do you want to skip?</h2>
      <div class="popup-btns">
        <button onclick="closeSkipPopup()">Cancel</button>
        <button onclick="confirmSkip()">Yes</button>
      </div>
    </div>
  </div>

  <script>
    const fileUpload = document.getElementById("fileUpload");
    const profileBox = document.getElementById("profileBox");
    const nextBtn = document.getElementById("nextBtn");

    // Enable Next button only after image selection
    fileUpload.addEventListener("change", function() {
      const file = this.files[0];

      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          // Remove any existing SVG inside the profile box
          profileBox.innerHTML = '';

          // Create an <img> for the uploaded photo
          const img = document.createElement('img');
          img.src = e.target.result;
          img.style.width = '100%';
          img.style.height = '100%';
          img.style.objectFit = 'cover';
          img.classList.add('fade-in');

          profileBox.appendChild(img);

          setTimeout(() => {
            img.classList.remove('fade-in');
            nextBtn.disabled = false; // enable Next
          }, 100);
        }
        reader.readAsDataURL(file);
      }
    });

    // Fake Upload Popup + Redirect
    function startUpload() {
      const popup = document.getElementById("uploadPopup");
      popup.style.display = "flex";
      setTimeout(() => {
        window.location.href = "https://example.com"; // change to your redirect link
      }, 3000);
    }

    // Skip popup handling
    function showSkipPopup() {
      document.getElementById("skipPopup").style.display = "flex";
    }

    function closeSkipPopup() {
      document.getElementById("skipPopup").style.display = "none";
    }

    function confirmSkip() {
      closeSkipPopup();
      alert("Skipped!"); // or redirect if needed
    }
  </script>

</body>
</html>
